subcode: add_rule_gforker
    push @extra_make_rules,  "libmpiexec_la_OBJECTS = \\"
    $foreach $a in qw(cmnargs process ioloop pmiserv labelout env newsession rm pmiport dbgiface)
        push @extra_make_rules,  "    src/pm/util/$a.lo \\"
    push @extra_make_rules,  "    src/pm/util/simple_pmiutil2.lo"
    push @extra_make_rules, ""

    my $objs = "\x24(libmpiexec_la_OBJECTS) \x24(MODDIR)/mpl/libmpl.la"
    push @extra_make_rules,  "libmpiexec.la: $objs"
    push @extra_make_rules,  "\t\@echo LTLD \$\@ && \x24(LTLD) -o \$\@ $objs"
    push @extra_make_rules, ""

    my $objs = "src/pm/gforker/mpiexec.o libmpiexec.la"
    push @extra_make_rules,  "mpiexec.gforker: $objs"
    push @extra_make_rules,  "\t\@echo LTLD \$\@ && \x24(LTLD) -o \$\@ $objs"
    push @extra_make_rules, ""

    push @extra_make_rules,  ".PHONY: gforker-install"
    push @extra_make_rules,  "gforker-install: mpiexec.gforker"
    my $bin = "\x24(PREFIX)/bin"
    push @extra_make_rules,  "\t/bin/sh ./libtool --mode=install --quiet install mpiexec.gforker $bin"
    push @extra_make_rules,  "\trm -f $bin/mpiexec  && ln -s $bin/mpiexec.gforker $bin/mpiexec"
    push @extra_make_rules,  "\trm -f $bin/mpirun  && ln -s $bin/mpiexec.gforker $bin/mpirun"
    push @extra_make_rules, ""

    # hack
    push @extra_INCLUDES, "-Isrc/pm/util"
    push @extra_DEFS, "-DHAVE_GETTIMEOFDAY -DUSE_SIGACTION"
